<!-- app/templates/index.html -->
{% extends 'layout.html' %}

{% block content %}
<form method="POST" action="{{ url_for('search') }}">
    <div class="form-row">
        <div class="col">
            <input type="text" class="form-control" name="query" placeholder="Search for books...">
        </div>
        <div class="col">
            <select class="form-control" name="filter_by">
                <option value="">All</option>
                <option value="title">Title</option>
                <option value="author">Author</option>
                <option value="genre">Genre</option>
            </select>
        </div>
        <div class="col">
            <button type="submit" class="btn btn-primary">Search</button>
        </div>
    </div>
</form>

<h1 class="mt-5">Library Collection</h1>
<a href="{{ url_for('add_book') }}" class="btn btn-primary">Add New Book</a>
<div class="mt-4">
    {% for book in books %}
    <div class="card mb-3">
        <div class="card-body">
            <h5 class="card-title">{{ book.title }}</h5>
            <h6 class="card-subtitle mb-2 text-muted">{{ book.author }}</h6>
            <p class="card-text">{{ book.description }}</p>
            <a href="{{ url_for('book_detail', book_id=book.id) }}" class="card-link">View Details</a>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}